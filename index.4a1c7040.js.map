{"mappings":"CAGqB,ICAJ,MAObA,qBACE,IACA,MAAMC,EAAI,iGAAyDC,KAAKC,YAClEC,QAAiBC,MAAMJ,GAG7B,aAFmBG,EAASE,QAEhBC,QACX,MAAMC,GAAOC,QAAQC,IAAIF,IAI3BR,mBAAmBW,GAClB,IACA,MAAMV,EAAI,2GAAmEU,UAAoBT,KAAKU,gCAChGR,QAAiBC,MAAMJ,GACvBY,QAAaT,EAASE,OAE5B,OAFmCQ,EAE5BD,EAAKN,QACV,MAAMC,GAAOC,QAAQC,IAAIF,IAG3BR,gBAAgBe,GACd,IACA,MAAMd,EAAI,sCAAoBc,4DACxBX,QAAiBC,MAAMJ,GAG7B,aAFmBG,EAASE,OAG3B,MAAME,GAAOC,QAAQC,IAAIF,IAI9BQ,qBACEd,KAAKC,WAAa,EAGpBc,qBACEf,KAAKU,WAAa,EAGpBM,iBACEhB,KAAKC,UAAY,EAGnBgB,iBACEjB,KAAKU,UAAY,EAnDnBQ,cACElB,KAAKS,YAAc,GACnBT,KAAKC,UAAY,EACjBD,KAAKU,UAAW,KDDTS","sources":["src/index.js","src/js/movieFetch.js"],"sourcesContent":["import MovieApiService from './js/movieFetch.js';\n\n// для примера - через экземпляр можем достучаться до свойства\nconst popularMovie = new MovieApiService();\n\n// вызываем промис в формате JSON\npopularMovie.fetchPopular();\n","const API_KEY = '03779c52c93ea63ebe46db37a334d7d8';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\n  export default class MovieApiService {\n    constructor() {\n      this.searchQuery = '';\n      this.pageStart = 1;\n      this.pageQuery =1;\n    }\n  \n    async fetchPopular(){\n      try{       \n      const url=`${BASE_URL}trending/movie/day?api_key=${API_KEY}&page=${this.pageStart}`\n      const response=  await fetch(url);\n      const data = await response.json();\n      // console.log(data.results);\n      return data.results;\n     } catch(error){console.log(error);\n      \n     }}\n    \n     async fetchByQuery(searchQuery){\n      try{ \n      const url=`${BASE_URL}search/movie?api_key=${API_KEY}&language=en-US&query=${searchQuery}&page=${this.pageQuery}&include_adult=false`\n      const response=  await fetch(url);\n      const data = await response.json();g\n      // this.incrementPage();\n      return data.results;\n      } catch(error){console.log(error);\n      }}\n\n      async fetchById(movieId){\n        try{       \n        const url=`${BASE_URL}movie/${movieId}?api_key=${API_KEY}&language=en-US`\n        const response=  await fetch(url);\n        const data = await response.json();\n        // console.log(data);\n        return data;\n       } catch(error){console.log(error);\n      }}\n\n\n    incrementPageStart() {\n      this.pageStart += 1;\n    }\n\n    incrementPageQuery() {\n      this.pageQuery += 1;\n    }\n  \n    resetPageStart() {\n      this.pageStart = 1;\n    }\n\n    resetPageQuery() {\n      this.pageQuery = 1;\n    }\n  \n    // get query() {\n    //   return this.searchQuery;\n    // }\n  \n    // set query(newQuery) {\n    //   this.searchQuery = newQuery;\n    // }\n  }\n"],"names":["async","url","this","pageStart","response","fetch","json","results","error","console","log","searchQuery","pageQuery","data","g","movieId","incrementPageStart","incrementPageQuery","resetPageStart","resetPageQuery","constructor","fetchPopular"],"version":3,"file":"index.4a1c7040.js.map"}