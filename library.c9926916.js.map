{"mappings":"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","sources":["src/js/library.js"],"sourcesContent":["import { storage } from './storage';\nimport { makeMarkupLib } from './renderFunctions';\nimport { openModal } from './renderFunctions';\nimport {\n  createPagination,\n  paginationSettings,\n  addPageToArray,\n} from './pagination';\nimport { WATCHED_SEARCH_TYPE, QUEUE_SEARCH_TYPE } from './searchTypes';\n\nconst parsing = storage.readItem('watched');\nconsole.log(parsing);\nconst refs = {\n  watchBtn: document.querySelector('#header-watched-button'),\n  queueBtn: document.querySelector('#header-queue-button'),\n};\nconst modal = document.querySelector('.modal__card-overlay');\nconst containerCard = document.querySelector('.container-card');\nconst containerPlaceholder = document.querySelector('.container-placeholder');\n\ncontainerCard.addEventListener('click', event => {\n  const movieClick = event.path[2];\n  if (!movieClick.classList.contains('container-card_single-card')) {\n    return;\n  }\n  modal.classList.remove('is-hidden');\n  const movieId = movieClick.dataset.id;\n  openModal(movieId);\n});\n\nrenderWatched();\nasync function renderWatched() {\n  const parsing = storage.readItem('watched');\n  const parsingPage = addPageToArray(1, parsing);\n  console.log(parsingPage.results.length);\n  if (parsingPage.results.length === 0) {\n    console.log('Нет данных');\n    containerPlaceholder.classList.remove('visually-hidden');\n  }\n  if (parsingPage.total_results > 20) {\n    console.log(createPagination(parsingPage));\n\n    paginationSettings.searchType = WATCHED_SEARCH_TYPE;\n  }\n\n  if (parsingPage.results.length < 21) {\n    containerCard.innerHTML = await makeMarkupLib(parsingPage.results);\n  }\n  if (parsingPage.results.length !== 0) {\n    containerPlaceholder.classList.add('visually-hidden');\n  }\n}\n\nrefs.watchBtn.addEventListener('click', async () => {\n  const parsing = storage.readItem('watched');\n  const parsingPage = addPageToArray(1, parsing);\n  console.log(parsingPage.results);\n  if (parsing.length === 0) {\n    console.log('Нет данных watchbtn');\n    containerCard.innerHTML = '';\n    containerPlaceholder.classList.remove('visually-hidden');\n  }\n  if (parsingPage.total_results > 20) {\n    console.log(createPagination(parsingPage));\n\n    paginationSettings.searchType = WATCHED_SEARCH_TYPE;\n  }\n  if (parsingPage.results.length < 21) {\n    // containerCard.innerHTML = '';\n    containerCard.innerHTML = await makeMarkupLib(parsingPage.results);\n  }\n  if (parsingPage.results.length !== 0) {\n    containerPlaceholder.classList.add('visually-hidden');\n  }\n  onWatchBtnClick();\n});\n\nrefs.queueBtn.addEventListener('click', async () => {\n  const parsing = storage.readItem('qu');\n  const paginationEl = document.querySelector('#tui-pagination-container');\n  console.log(parsing);\n  const parsingPage = addPageToArray(1, parsing);\n  console.log(parsingPage);\n  paginationEl.innerHTML = '';\n  containerCard.innerHTML = '';\n\n  if (parsing.length === 0) {\n    console.log('Нет данных queqeeq');\n    containerCard.innerHTML = '';\n    containerPlaceholder.classList.remove('visually-hidden');\n  }\n  if (parsingPage.total_results > 20) {\n    console.log('Пагинация By Queue');\n    console.log(createPagination(parsingPage));\n\n    paginationSettings.searchType = QUEUE_SEARCH_TYPE;\n  }\n\n  if (parsingPage.results.length < 21) {\n    // containerCard.innerHTML = '';\n    containerCard.innerHTML = await makeMarkupLib(parsingPage.results);\n  }\n  if (parsingPage.results.length !== 0) {\n    containerPlaceholder.classList.add('visually-hidden');\n  }\n  onQueueBtnClick();\n});\n\nfunction onWatchBtnClick() {\n  if (refs.watchBtn.classList.contains('is-header-nonactive')) {\n    refs.watchBtn.classList.remove('is-header-nonactive');\n    refs.watchBtn.classList.add('is-header-active');\n    refs.queueBtn.classList.remove('is-header-active');\n    refs.queueBtn.classList.add('is-header-nonactive');\n\n    // вызов функции обновления контента страницы\n  }\n}\n\nfunction onQueueBtnClick() {\n  if (refs.queueBtn.classList.contains('is-header-nonactive')) {\n    refs.queueBtn.classList.remove('is-header-nonactive');\n    refs.queueBtn.classList.add('is-header-active');\n    refs.watchBtn.classList.remove('is-header-active');\n    refs.watchBtn.classList.add('is-header-nonactive');\n\n    // вызов функции обновления контента страницы\n  }\n}\n\n// До мене\n\n// renderWatched();\n// async function renderWatched() {\n//   const parsing = storage.readItem('watched');\n//   if (parsing) {\n//     containerCard.innerHTML = await makeMarkupLib(parsing);\n//   }\n// }\n// refs.watchBtn.addEventListener('click', async () => {\n//   const parsing = storage.readItem('watched');\n//   console.log(parsing);\n//   if (parsing) {\n//     containerCard.innerHTML = '';\n//     containerCard.innerHTML = await makeMarkupLib(parsing);\n//   } else {\n//     containerCard.innerHTML = 'List is empty';\n//   }\n//   onWatchBtnClick();\n// });\n\n// refs.queueBtn.addEventListener('click', async () => {\n//   const parsing = storage.readItem('qu');\n//   if (parsing) {\n//     containerCard.innerHTML = '';\n//     containerCard.innerHTML = await makeMarkupLib(parsing);\n//   } else {\n//     containerCard.innerHTML = 'List is empty';\n//   }\n//   onQueueBtnClick();\n// });\n"],"names":["$bpxeT","parcelRequire","$93effc6fc56091ad$var$parsing","$jzQFI","storage","readItem","console","log","$93effc6fc56091ad$var$refs","watchBtn","document","querySelector","queueBtn","$93effc6fc56091ad$var$modal","$93effc6fc56091ad$var$containerCard","$93effc6fc56091ad$var$containerPlaceholder","$93effc6fc56091ad$var$_renderWatched","$parcel$interopDefault","$2TvXO","mark","_callee","parsing1","parsingPage","$jcFG7","addPageToArray","results","length","classList","remove","total_results","createPagination","paginationSettings","searchType","$kpqGT","WATCHED_SEARCH_TYPE","$2eFBA","makeMarkupLib","innerHTML","_ctx","sent","add","apply","this","arguments","$93effc6fc56091ad$var$onWatchBtnClick","contains","$93effc6fc56091ad$var$onQueueBtnClick","addEventListener","event","movieClick","path","movieId","dataset","id","openModal","$93effc6fc56091ad$var$renderWatched","parsing2","parsing3","paginationEl","QUEUE_SEARCH_TYPE"],"version":3,"file":"library.c9926916.js.map"}